import{a as l}from"./chunk-TQ6FZMMO.js";import{a as h}from"./chunk-7EQBCLUI.js";import{$ as c,V as a,c as o,d as n,j as u,m as i}from"./chunk-GVAWOAM3.js";var j=(()=>{let t=class t{constructor(e,r,g){this.http=e,this.router=r,this.storage=g,this._loginSuccess$=new o,this._userProfile$=new n(void 0),this.serverUrl=h.serverUrl}get loginSuccess(){return this._loginSuccess$}get userProfile(){return this._userProfile$}register(e){return this.http.post(`${this.serverUrl}/auth/register`,e)}login(e){return this.http.post(`${this.serverUrl}/auth/login`,e).subscribe({next:r=>{this._loginSuccess$.next(!0),this.storage.setUser(r),setTimeout(()=>{this.router.navigate(["profile/main"])},1500)},error:()=>this._loginSuccess$.next(!1)})}logout(){this.storage.removeUser(),this.router.navigate(["login"])}};t.\u0275fac=function(r){return new(r||t)(i(a),i(c),i(l))},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{j as a};
