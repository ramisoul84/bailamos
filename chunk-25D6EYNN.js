import{a as u}from"./chunk-7EQBCLUI.js";import{V as c,_ as l,c as a,d as n,j as s,m as o}from"./chunk-QY7NKWSR.js";var h=(()=>{let t=class t{constructor(){this.storageName="bailamos_user"}setUser(e){localStorage.setItem(this.storageName,JSON.stringify(e))}removeUser(){localStorage.removeItem(this.storageName)}getUser(){return JSON.parse(localStorage.getItem(this.storageName))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var j=(()=>{let t=class t{constructor(e,i,m){this.http=e,this.router=i,this.storage=m,this._loginSuccess$=new a,this._userProfile$=new n(void 0),this.serverUrl=u.serverUrl}get loginSuccess(){return this._loginSuccess$}get userProfile(){return this._userProfile$}register(e){return this.http.post(`${this.serverUrl}/auth/register`,e)}login(e){return this.http.post(`${this.serverUrl}/auth/login`,e).subscribe({next:i=>{this._loginSuccess$.next(!0),this.storage.setUser(i),setTimeout(()=>{this.router.navigate(["profile/main"])},1500)},error:()=>this._loginSuccess$.next(!1)})}logout(){this.storage.removeUser(),this.router.navigate(["login"])}};t.\u0275fac=function(i){return new(i||t)(o(c),o(l),o(h))},t.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{h as a,j as b};
